<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- âœ… VerificaciÃ³n de Google -->
  <meta name="google-site-verification" content="LtZU11gSxX_CxQFu1THqMEnQ7-c-sDDmvfmdXkh2kn4" />
  <title>Queentana Real â€” Tienda</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom tiny tweaks to match a refined brand look */
    :root{
      --brand-bg: #F9F6F0; /* soft cream */
      --brand-text:#1F1F1F;  /* dark text */
      --accent-gold: #C69B4B; /* gold-ish */
      --muted:#8b8380;
    }
    body{background:var(--brand-bg); color:var(--brand-text);}    
    .glass{backdrop-filter: blur(6px); background: rgba(255,255,255,0.55);} 
  </style>
</head>
<body class="min-h-screen font-sans">
  <!-- Top bar with logo, social and cart -->
  <header class="p-4 flex items-center justify-between max-w-6xl mx-auto">
    <div class="flex items-center gap-3">
      <!-- Replace 'logo.png' with your actual logo file (same folder) -->
      <img src="LOGO DEFINITIVO.png" alt="Queentana Real" class="w-20 h-20 object-contain"/>
      <div>
        <h1 class="text-2xl font-semibold">Queentana <span class="text-sm text-gray-600">Real</span></h1>
        <p class="text-sm text-gray-500">ReposterÃ­a artesanal â€¢ Elegancia con sazÃ³n</p>
      </div>
    </div>

    <div class="flex items-center gap-3">
      <!-- Socials (replace # with your URLs) -->
      <nav class="hidden md:flex gap-3 items-center">
        <a href=https://www.instagram.com/queentana_real?utm_source=ig_web_button_share_sheet&igsh=Mmh4d202MnFtb3Yy target="_blank" aria-label="Instagram">Instagram</a>
        <a href=https://www.facebook.com/share/v/16iE99qQbR/ target="_blank" aria-label="Facebook">Facebook</a>
        <a href=https://www.tiktok.com/@queentanareal?_t=ZS-909BLUtTa41&_r=1 target="_blank" aria-label="TikTok">TikTok</a>
      </nav>

      <!-- Menu (hamburger) -->
      <button id="menuBtn" class="p-2 rounded-md glass md:hidden">â˜°</button>

      <!-- Cart icon -->
      <button id="cartBtn" class="relative p-2 rounded-md glass">
        ðŸ›’
        <span id="cartCount" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full px-2">0</span>
      </button>
    </div>
  </header>

  <!-- Welcome / Hero -->
  <section class="max-w-6xl mx-auto p-6 grid md:grid-cols-2 gap-6 items-center">
    <div>
      <h2 class="text-4xl font-bold leading-tight">Bienvenida a <span style="color:var(--accent-gold)">Queentana Real</span></h2>
      <p class="mt-3 text-gray-600">Dulces con corazÃ³n y estilo. Explora nuestros postres, elige tus toppings y finaliza el pedido por WhatsApp. Â¡Tu antojo, nuestro reino!</p>

      <div class="mt-6 flex gap-3">
        <a href="#productos" class="px-4 py-2 rounded-2xl glass">Ver productos</a>
        <a id="ctaWhats" href="#" class="px-4 py-2 rounded-2xl" style="background:var(--accent-gold); color:white">Pedir por WhatsApp</a>
      </div>
    </div>
    <div class="bg-white rounded-2xl p-6 shadow-md">
      <!-- Small promo / image placeholder -->
      <img src="hero-dessert.jpg" alt="Postres" class="w-full h-56 object-cover rounded-lg"/>
    </div>
  </section>

  <!-- Products -->
  <main id="productos" class="max-w-6xl mx-auto p-6">
    <h3 class="text-2xl font-semibold mb-4">Caprichos Helados</h3>
    <div id="productGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- Product cards are filled by JS -->
    </div>

    <section class="mt-8">
      <h4 class="text-xl font-semibold">PrÃ³ximamente</h4>
      <div class="mt-2 flex gap-3 flex-wrap text-sm text-gray-600">
        <span class="px-3 py-2 glass rounded">Cupcakes</span>
        <span class="px-3 py-2 glass rounded">Galletas</span>
        <span class="px-3 py-2 glass rounded">Empanadas</span>
        <span class="px-3 py-2 glass rounded">Macaron</span>
        <span class="px-3 py-2 glass rounded">Accesorios</span>
      </div>
    </section>
  </main>

  <!-- Floating cart panel -->
  <aside id="cartPanel" class="fixed right-4 bottom-4 w-96 bg-white p-4 rounded-2xl shadow-lg hidden">
    <h4 class="font-semibold">Tu carrito</h4>
    <div id="cartItems" class="mt-3 space-y-2 max-h-56 overflow-auto"></div>
    <div class="mt-3 flex justify-between items-center">
      <div>
        <div class="text-sm text-gray-500">Total</div>
        <div id="cartTotal" class="font-bold text-lg">$0 MXN</div>
      </div>
      <div class="flex flex-col gap-2">
        <button id="checkoutBtn" class="px-4 py-2 rounded-2xl" style="background:var(--accent-gold); color:white">Continuar a pagar</button>
        <button id="closeCart" class="px-3 py-1 rounded-md text-sm text-gray-600">Cerrar</button>
      </div>
    </div>
  </aside>

  <!-- Product modal (detail & options) -->
  <div id="productModal" class="fixed inset-0 flex items-center justify-center bg-black/40 hidden">
    <div class="bg-white rounded-2xl p-6 w-11/12 max-w-xl">
      <button id="closeModal" class="text-gray-500">âœ•</button>
      <div id="modalContent" class="mt-2"></div>
    </div>
  </div>

  <footer class="max-w-6xl mx-auto p-6 text-center text-sm text-gray-500">
    Â© Queentana Real â€” Hecho con amor y dedicaciÃ³n.
  </footer>

  <script>
    /* ---------- Data ---------- */
    const PRODUCTS = [
      {
        id: 'carlota', title: 'Carlota', img: 'carlota.jpg', 
        variants: [
          {id:'base', name:'Carlota (sin topping)', price:30},
          {id:'topping', name:'Carlota con topping', price:35}
        ],
        toppings:['Fresa','Mango','Nuez','Mazapan','Chispas payaso','Chispas de chocolate','Cacahuate']
      },
      {
        id: 'gelatina', title:'Gelatina de Mozaico', img:'gelatina.jpg',
        sizes:[ {id:'ch',name:'Chica', price:12}, {id:'md',name:'Mediana', price:20} ],
        flavors:['Fresa','LimÃ³n','Uva','Mango']
      }
    ];

    /* ---------- Helpers ---------- */
    const $ = s => document.querySelector(s);
    const $$ = s => document.querySelectorAll(s);

    /* ---------- Render products ---------- */
    const grid = $('#productGrid');
    function renderProducts(){
      grid.innerHTML = '';
      PRODUCTS.forEach(p=>{
        const card = document.createElement('article');
        card.className = 'bg-white p-4 rounded-xl shadow-sm';
        card.innerHTML = `
          <img src="${p.img}" alt="${p.title}" class="h-40 w-full object-cover rounded-md"/>
          <h5 class="mt-3 font-semibold">${p.title}</h5>
          <p class="text-sm text-gray-500 mt-1">Toca para ver opciones y pedir</p>
          <div class="mt-3 flex justify-between items-center">
            <button class="openProductBtn px-3 py-2 rounded-lg glass" data-id="${p.id}">Ver</button>
            <div class="text-sm text-gray-700">${getSamplePrice(p)}</div>
          </div>
        `;
        grid.appendChild(card);
      })
    }

    function getSamplePrice(p){
      if(p.id==='carlota') return '$30 - $35 MXN';
      if(p.id==='gelatina') return '$12 - $20 MXN';
      return '';
    }

    renderProducts();

    /* ---------- Modal logic ---------- */
    const modal = $('#productModal');
    const modalContent = $('#modalContent');

    document.addEventListener('click', e=>{
      if(e.target.matches('.openProductBtn')){
        const id = e.target.dataset.id; openProduct(id);
      }
    })

    function openProduct(id){
      const p = PRODUCTS.find(x=>x.id===id);
      if(!p) return;
      // Build modal HTML depending on product
      if(p.id==='carlota'){
        modalContent.innerHTML = `
          <h3 class="text-xl font-semibold">Carlota</h3>
          <p class="text-sm text-gray-500">Elige si deseas topping (si seleccionas, el precio aumentarÃ¡).</p>
          <div class="mt-3 bg-gray-50 p-3 rounded">
            <label class="flex items-center gap-2"><input type='radio' name='carlotaType' value='base' checked/> Carlota(s) (Sin topping) - $30 MXN</label>
            <label class="flex items-center gap-2 mt-2"><input type='radio' name='carlotaType' value='topping'/> Carlota(s) con topping - $35 MXN</label>
          </div>
          <div id='toppingOptions' class='mt-3 hidden'>
            <label class='text-sm text-gray-600'>Selecciona topping</label>
            <div class='mt-2 flex gap-2 flex-wrap'>
              ${p.toppings.map(t=>`<button class="toppingBtn px-3 py-1 rounded-full glass" data-t="${t}">${t}</button>`).join('')}
            </div>
            <div class='mt-3 text-sm text-gray-500'>Topping seleccionado: <span id='selectedTopping'>â€”</span></div>
          </div>
          <div class='mt-4 flex justify-between items-center'>
            <div>
              <label class='text-sm'>Cantidad</label>
              <input id='qty' type='number' value='1' min='1' class='ml-2 w-16 border rounded p-1'/>
            </div>
            <div class='text-right'>
              <div class='text-sm text-gray-500'>Total</div>
              <div id='modalTotal' class='font-bold'>$30 MXN</div>
            </div>
          </div>
          <div class='mt-4 flex gap-2'>
            <button id='addCarlota' class='px-4 py-2 rounded-2xl' style='background:var(--accent-gold); color:white'>Agregar al carrito</button>
            <button id='cancelAdd' class='px-4 py-2 rounded-2xl glass'>Cancelar</button>
          </div>
        `;

        // listeners inside modal
        modal.querySelectorAll("input[name='carlotaType']").forEach(r=>r.addEventListener('change', updateCarlotaUI));
        modal.querySelectorAll('.toppingBtn').forEach(b=>b.addEventListener('click', e=>{
          modal.querySelectorAll('.toppingBtn').forEach(x=>x.classList.remove('bg-gray-200'));
          e.target.classList.add('bg-gray-200');
          modal.querySelector('#selectedTopping').textContent = e.target.dataset.t;
        }));
        modal.querySelector('#qty').addEventListener('input', updateCarlotaTotal);
        modal.querySelector('#addCarlota').addEventListener('click', ()=>{
          const type = modal.querySelector("input[name='carlotaType']:checked").value;
          const qty = Number(modal.querySelector('#qty').value||1);
          const topping = modal.querySelector('#selectedTopping').textContent || null;
          const price = type==='base'?30:35;
          addToCart({id: 'carlota-'+Date.now(), productId:'carlota', title:'Carlota'+(type==='topping'?' con topping':''), qty, price, options: {topping: topping}});
          closeModal();
        });
        modal.querySelector('#cancelAdd').addEventListener('click', closeModal);
        updateCarlotaUI();
      }

      if(p.id==='gelatina'){
        modalContent.innerHTML = `
          <h3 class="text-xl font-semibold">Gelatina</h3>
          <p class='text-sm text-gray-500'>Selecciona tamaÃ±o y sabor.</p>
          <div class='mt-3'>
            ${p.sizes.map(s=>`<label class='flex items-center gap-2'><input type='radio' name='gelSize' value='${s.id}' data-price='${s.price}' ${s.id==='ch'?'checked':''}/> ${s.name} - $${s.price} MXN</label>`).join('')}
          </div>
          <div class='mt-3'>
            <label class='text-sm'>Sabor</label>
            <select id='gelFlavor' class='w-full mt-1 border rounded p-2'>
              ${p.flavors.map(f=>`<option>${f}</option>`).join('')}
            </select>
          </div>
          <div class='mt-4 flex justify-between items-center'>
            <div>
              <label class='text-sm'>Cantidad</label>
              <input id='qtyGel' type='number' value='1' min='1' class='ml-2 w-16 border rounded p-1'/>
            </div>
            <div class='text-right'>
              <div class='text-sm text-gray-500'>Total</div>
              <div id='modalTotal' class='font-bold'>$12 MXN</div>
            </div>
          </div>
          <div class='mt-4 flex gap-2'>
            <button id='addGel' class='px-4 py-2 rounded-2xl' style='background:var(--accent-gold); color:white'>Agregar al carrito</button>
            <button id='cancelGel' class='px-4 py-2 rounded-2xl glass'>Cancelar</button>
          </div>
        `;

        modal.querySelectorAll("input[name='gelSize']").forEach(r=>r.addEventListener('change', updateGelTotal));
        modal.querySelector('#qtyGel').addEventListener('input', updateGelTotal);
        modal.querySelector('#addGel').addEventListener('click', ()=>{
          const sizeEl = modal.querySelector("input[name='gelSize']:checked");
          const sizeId = sizeEl.value; const sizeName = sizeEl.nextSibling?.textContent?.trim() || sizeId;
          const price = Number(sizeEl.dataset.price);
          const qty = Number(modal.querySelector('#qtyGel').value||1);
          const flavor = modal.querySelector('#gelFlavor').value;
          addToCart({id:'gel-'+Date.now(), productId:'gelatina', title:`Gelatina (${sizeName})`, qty, price, options:{flavor}});
          closeModal();
        });
        modal.querySelector('#cancelGel').addEventListener('click', closeModal);
        updateGelTotal();
      }

      modal.classList.remove('hidden');
    }

    function closeModal(){ modal.classList.add('hidden'); modalContent.innerHTML=''; }
    $('#closeModal').addEventListener('click', closeModal);

    function updateCarlotaUI(){
      const type = modal.querySelector("input[name='carlotaType']:checked").value;
      const show = type==='topping';
      const el = modal.querySelector('#toppingOptions');
      if(el) el.classList.toggle('hidden', !show);
      updateCarlotaTotal();
    }
    function updateCarlotaTotal(){
      const type = modal.querySelector("input[name='carlotaType']:checked").value;
      const qty = Number(modal.querySelector('#qty').value||1);
      const price = type==='base'?30:35;
      modal.querySelector('#modalTotal').textContent = `$${price*qty} MXN`;
    }
    function updateGelTotal(){
      const sizeEl = modal.querySelector("input[name='gelSize']:checked");
      const price = Number(sizeEl.dataset.price);
      const qty = Number(modal.querySelector('#qtyGel').value||1);
      modal.querySelector('#modalTotal').textContent = `$${price*qty} MXN`;
    }

    /* ---------- Cart logic ---------- */
    let CART = JSON.parse(localStorage.getItem('qr_cart')||'[]');
    function saveCart(){ localStorage.setItem('qr_cart', JSON.stringify(CART)); renderCart(); }

    function addToCart(item){ CART.push(item); saveCart(); alert('Agregado al carrito'); }

    function renderCart(){
      $('#cartCount').textContent = CART.length;
      const container = $('#cartItems'); container.innerHTML='';
      let total = 0;
      CART.forEach((it, idx)=>{
        total += it.qty * it.price;
        const div = document.createElement('div');
        div.className = 'flex justify-between items-start gap-2 p-2 border rounded';
        div.innerHTML = `
          <div>
            <div class='font-semibold'>${it.title}</div>
            <div class='text-sm text-gray-500'>${it.options&&Object.keys(it.options).length?Object.entries(it.options).map(o=>o[0]+': '+o[1]).join(', '):''}</div>
            <div clss='text-sm text-gray-600 mt-1'>Cantidad: ${it.qty}</div>
          </div>
          <div class='text-right'>
            <div class='font-semibold'>$${it.price*it.qty} MXN</div>
            <button class='removeItem text-sm text-red-500 mt-2' data-idx='${idx}'>Quitar</button>
          </div>
        `;
        container.appendChild(div);
      });
      $('#cartTotal').textContent = `$${total} MXN`;

      // remove handlers
      container.querySelectorAll('.removeItem').forEach(b=>b.addEventListener('click', e=>{
        const i = Number(e.target.dataset.idx); CART.splice(i,1); saveCart();
      }));
    }

    renderCart();

    // Toggle cart panel
    $('#cartBtn').addEventListener('click', ()=>{ $('#cartPanel').classList.toggle('hidden'); });
    $('#closeCart').addEventListener('click', ()=>{ $('#cartPanel').classList.add('hidden'); });

    // Checkout -> send order to WhatsApp
    $('#checkoutBtn').addEventListener('click', ()=>{
      if(CART.length===0){ alert('Tu carrito estÃ¡ vacÃ­o.'); return; }
      const phone = '526142425718'; // Replace with your phone number in international format (Mexico example: 521+10 digits)
      let msg = `*Pedido Queentana Real*\n`;
      let total = 0;
      CART.forEach(it=>{
        total += it.qty * it.price;
        msg += `\n- ${it.title} x${it.qty} = $${it.price*it.qty} MXN`;
        if(it.options) msg += `\n   ${Object.entries(it.options).map(o=>o[0]+': '+o[1]).join(', ')}`;
      });
      msg += `\n\n*Total: $${total} MXN*\n\nNombre: \nDirecciÃ³n: \nFecha de entrega (opcional): `;
      const encoded = encodeURIComponent(msg);
      const url = `https://wa.me/${phone}?text=${encoded}`;
      window.open(url, '_blank');
    });

    // small helpers
    $('#menuBtn').addEventListener('click', ()=>{ alert('AquÃ­ podrÃ­as abrir el menÃº lateral (opciÃ³n a expandir).')});

    // CTA WhatsApp top
    $('#ctaWhats').addEventListener('click', (e)=>{ e.preventDefault(); $('#checkoutBtn').click(); });

    // close modal when clicking outside content
    modal.addEventListener('click', (ev)=>{ if(ev.target===modal) closeModal(); });

    // init image placeholders if missing
    window.addEventListener('load', ()=>{
      document.querySelectorAll('img').forEach(img=>{
        img.addEventListener('error', ()=>{ img.src='https://via.placeholder.com/400x300?text=Queentana'; });
      });
    });
  </script>
</body>
</html>


